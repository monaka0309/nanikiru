<!DOCTYPE html>
<html lang="ja">
<head>
    <title>投稿一覧</title>
</head>
<body class="bg-gray-200 font-sans leading-normal tracking-normal">
    <%= render 'layouts/header' %>
    <%= render 'layouts/sidebar' %>
    <main class="container mx-auto px-4 pt-8 text-gray-600 mb-10">
        <h1 class="text-3xl font-bold mb-10">投稿一覧</h1>

        <% if @posts.any? %>
            <div class="grid grid-cols-1">
                <% @posts.each do |post| %>
                    <div class="bg-white rounded-lg shadow p-4 mb-4">
                        <p class="text-gray-700 mb-3"><%= post.content %></p>
                        <!-- 画像が存在する場合のみ画像を表示 -->
                        <% if post.image.present? %>
                            <%= image_tag post.image.url %>
                        <% end %><br>

                        下の選択肢から投票してください。<br>

                        <!-- モーダルで選択された牌画像の表示 -->
                        <% if post.selected_images.present? %>
                            <div class="flex flex-wrap justify-center mt-2">
                                <% post.selected_images.each do |image_url| %>
                                    <%= image_tag image_url, class: "tile-image rounded-lg m-2" %>

                                <% end %>
                            </div>
                        <% end %>
                        
                    </div>
                <% end %>
            </div>
        <% else %>
            <p class="mb-10">まだ投稿がありません。</p>
        <% end %>
    </main>
    <%= render 'layouts/footer' %>
</body>
</html>

